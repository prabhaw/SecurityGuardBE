(this["webpackJsonpguard-client"]=this["webpackJsonpguard-client"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"login":"LOGIN","email":"Email","password":"Password","invalid input":"Invalid Input","setting":"Setting","sign out":"Sign Out","profile":"Profile","security logo":"SECURITY","user":"User","first name":"First Name","last name":"Last Name","role":"Role","phone number":"Phone Number","sn":"SN","add user":"Add User","user from title":"Fill User Form","SUPERVISOR":"SUPERVISOR","GUARD":"GUARD","change password":"Change Password","shift":"Shift","shift date":"Shift Date","is holiday":"Is Holiday","storage area":"Storage Area","next":"Next","Previous":"Previous","storage":"Storage","holiday name":"Holiday Name","add shift":"ADD SHIFT","remove shift":"REMOVE SHIFT","update shift":"UPDATE SHIFT","Shift":"Shift","Manage Shift":"Manage Shift","Time Shadule":"Time Shadule","Request Leaves":"Request Leaves","All Leaves":"All Leaves","Leaves Requests":"Leaves Requests","Start Date":"Start Date","End Date":"End Date","Category":"Category","Status":"Status","Request Leave":"Request Leave","Request For Leave":"Request For Leave","Leave Category":"Leave Category","Manage Leave":"Manage Leave","Action":"Action","accept":"Accept","Holiday List":"Holiday List","Add Holiday":"Add Holiday","Holiday Date":"Holiday Date","Holiday Name":"Holiday Name","Cancle":"Cancle","Dashboard":"Dashboard","Working Hour":"Working Hour","Since last month":"This Month","Since last Week":"This Week","Total Leave":"Total Leave","Working Chart":"Working Chart","Remove":"Remove","Holiday Woking Hour":"Holiday Working Hour","Total Working Hour":"Total Working Hour","Shift One":"Shift One","Shift Two":"Shift Two","Shift Three":"Shift Three","Next Day":"Next Day","Next Week":"Next Week","Previous Day":"Previous Day","Previous Week":"Previous Week","Month":"Month","Date":"Date","Print":"Print","On Leave":"On Leave","Accepted":"Accepted","Not Accepted":"Not Accepted","Working Week":"Working Week","Guard Name":"Guard Name","Total":"Total","Holiday":"Holiday","Working Statistic of":"Working Statistic of","Working Month":"Working Month"}')},1858:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(38),c=a.n(s),r=(a(254),a(255),a(256),a(23)),l=a(50),d=a(32),o=a(182),j=a.n(o),u=a(223),h=a(106),b=a(10),f=a(1886),m=a(224),O=a.n(m).a.create({baseURL:"http://localhost:5000/api",responseType:"json"}),x=function(e){var t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(localStorage.getItem("token"))),t};var y={GET:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return O.get(e,{headers:x(t),params:a})},POST:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return O.post(e,t,{headers:x(a),params:{}})},PUT:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return O.put(e,t,{headers:x(a),params:{}})},REMOVE:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return O.delete(e,{headers:x(t)})}},g="LOGIN_START",v="LOGIN_SUCCESS",p="LOGIN_FAIL",Y="OPEN_MODAL",_="CLOSE_MODAL",D="USER_FETCH_SUCCESS",M="ADD_USER_START",S="ADD_USER_SUCCESS",N="ADD_USER_FAIL",k="LOGOUT_SUCCESS",I="FETCH_GUARS_SUCCESS",E="ADD_GUARD_INITIAL",A="FETCH_SHIFT_ADMIN",w="FETCH_SHIFT_ADMIN_LOAD",T="ADD_SHIFT_START",C="ADD_SHIFT_SUCCESS",F="ADD_SHIFT_FAIL",H="UPDATE_SHIFT_SUCCESS",R="REMOVE_SHIFT_SUCCESS",L="FETCH_SHIFT_GUARD_SUCCESS",P="FETCH_LEAVE_BY_GUARD",U="REQUEST_LEAVE",z="REQUEST_LEAVE_SUCCESS",G="REQUEST_LEAVE_FAIL",B="ACCEPT_LEAVE",W="ACCEPT_LEAVE_SUCCESS",q="ACCEPT_LEAVE_FAIL",V="FEATCH_ALL_HOLIDAY",J="ADD_HOLILDAY",Q="ADD_HOLIDAY_SUCCESS",Z="ADD_HOLIDAY_FAIL",$="REMOVE_HOLIDAY",X=a(3),K=(h.a.SubMenu,function(){var e=Object(d.f)(),t=Object(r.c)((function(e){return e.user})),a=t.user,n=t.loggedIn;return Object(X.jsxs)(h.a,{style:{width:"100%"},selectedKeys:[e.pathname],mode:"horizontal",children:[Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"/",children:b.Dashboard})},"/"),n&&"ADMIN"===a.role&&Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"user",children:b.user})},"/user")}),n&&"SUPERVISOR"===a.role&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"manage-shift",children:b["Manage Shift"]})},"/manage-shift"),Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"leave-admin",children:b["Manage Leave"]})},"/leave-admin"),Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"holiday",children:b["Holiday List"]})},"/holiday")]}),n&&"GUARD"===a.role&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"guard-shift",children:b.Shift})},"/guard-shift"),Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"leave-guard",children:b["Leaves Requests"]})},"/leave-guard")]})]})}),ee=h.a.SubMenu,te=function(){var e=Object(r.c)((function(e){return e.user})).user,t=Object(r.b)(),a=Object(d.g)();return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)("div",{className:"nav-bars",children:[Object(X.jsx)("div",{className:"logo",children:Object(X.jsx)("h4",{children:b["security logo"]})}),Object(X.jsx)("div",{style:{width:"100%"},children:Object(X.jsx)(K,{})}),Object(X.jsx)("div",{children:Object(X.jsx)(h.a,{mode:"horizontal",children:Object(X.jsxs)(ee,{icon:Object(X.jsx)(f.a,{style:{fontSize:"20px"}}),title:null===e||void 0===e?void 0:e.first_name,children:[Object(X.jsx)(h.a.Item,{children:Object(X.jsx)(l.b,{to:"setting",children:b.setting})}),Object(X.jsx)(h.a.Item,{onClick:Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("login");case 2:t((function(e){e({type:k})}));case 3:case"end":return e.stop()}}),e)}))),children:b["sign out"]})]},"SubMenu")})})]})})},ae=(a(1862).a.Sider,function(e){e.children;var t=Object(r.c)((function(e){return e.user.loggedIn})),a=Object(d.g)();return Object(n.useEffect)((function(){t||a("login")}),[t,a]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(te,{}),Object(X.jsx)("div",{className:"content-layoute",children:Object(X.jsx)("div",{className:"container-layout px-5",children:Object(X.jsx)(d.a,{})})})]})}),ne=a(1863),ie=a(1864),se=a(1884),ce=a(1878),re=a(1882),le=a(53),de=a(1887),oe=a(1888),je=a(1879),ue=je.a.Title,he=function(){var e=Object(d.g)(),t=Object(r.b)(),a=Object(r.c)((function(e){return e.user})),i=a.message,s=a.loggedIn;return Object(n.useEffect)((function(){s&&e("/")}),[s,e]),Object(X.jsx)("div",{className:"logiInBackground",children:Object(X.jsx)(ne.a,{justify:"center",children:Object(X.jsxs)(ie.a,{style:{background:"white",padding:"24px",borderRadius:"10px"},xs:{span:24,offset:1},lg:{span:24,offset:1},children:[Object(X.jsx)(ue,{style:{textAlign:"center"},level:3,children:b.login}),i&&Object(X.jsx)("div",{className:"login-message",children:Object(X.jsx)(se.a,{message:i,type:"error",showIcon:!0})}),Object(X.jsxs)(ce.a,{name:"normal_login",className:"",onFinish:function(e){t(function(e){return function(t){t({type:g}),y.POST("/auth/login",e,!1).then((function(e){t({type:v,payload:e.data})})).catch((function(e){t({type:p,payload:e.response.data.message})}))}}(e))},children:[Object(X.jsx)(ce.a.Item,{name:"email",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(re.a,{prefix:Object(X.jsx)(de.a,{className:"site-form-item-icon"}),placeholder:b.email,size:"large"})}),Object(X.jsx)(ce.a.Item,{name:"password",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(re.a.Password,{prefix:Object(X.jsx)(oe.a,{className:"site-form-item-icon"}),type:"password",placeholder:b.password,size:"large"})}),Object(X.jsx)(ce.a.Item,{children:Object(X.jsx)(le.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,size:"large",children:"Log In"})})]})]})})})},be=a(28),fe=a(15),me=a(126),Oe=a.n(me),xe={type:"danger",insert:"bottom",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3}};function ye(e){me.store.addNotification(Object(fe.a)(Object(fe.a)({},xe),{},{title:"Error Occour",message:e}))}var ge={showError:ye,handleError:function(e){e&&e.data&&ye(e.data.message)},showWarning:function(e){me.store.addNotification(Object(fe.a)(Object(fe.a)({},xe),{},{title:"Information",type:"warning",message:e}))},showInfo:function(e){},showSuccess:function(e){me.store.addNotification(Object(fe.a)(Object(fe.a)({},xe),{},{title:"Success",type:"success",message:e}))}},ve=je.a.Title,pe=function(){var e=Object(r.c)((function(e){return e.user})).user,t=ce.a.useForm(),a=Object(be.a)(t,1)[0];return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ne.a,{justify:"center",children:Object(X.jsxs)(ie.a,{style:{background:"white",padding:"24px",marginTop:"200px",borderRadius:"10px"},xs:{span:22,offset:1},md:{span:14,offset:1},lg:{span:10,offset:1},children:[Object(X.jsx)(ve,{style:{textAlign:"center"},level:3,children:b["change password"]}),Object(X.jsxs)(ce.a,{form:a,name:"normal_login",className:"",onFinish:function(t){y.PUT("/user/password/".concat(e.id),t,!0).then((function(e){ge.showSuccess(e.data.message),a.resetFields()})).catch((function(e){ge.handleError(e.response)}))},children:[Object(X.jsx)(ce.a.Item,{name:"password",rules:[{required:!0,message:"Please input  Password!"},{pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z@$&!\\d]{8,32}$",message:"Password must be 8 character long and One Number!"}],children:Object(X.jsx)(re.a.Password,{prefix:Object(X.jsx)(oe.a,{className:"site-form-item-icon"}),type:"password",placeholder:b.password,size:"large"})}),Object(X.jsx)(ce.a.Item,{children:Object(X.jsx)(le.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,size:"large",children:"Save"})})]})]})})})},Ye=a(1889),_e=function(){var e=Object(r.c)((function(e){return e.users})).users;return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)("table",{className:"table text-center",children:[Object(X.jsx)("thead",{children:Object(X.jsxs)("tr",{children:[Object(X.jsx)("th",{children:b.sn}),Object(X.jsx)("th",{children:b["first name"]}),Object(X.jsx)("th",{children:b["last name"]}),Object(X.jsx)("th",{children:b.email}),Object(X.jsx)("th",{children:b.role}),Object(X.jsx)("th",{children:b["phone number"]})]})}),Object(X.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((function(e,t){return Object(X.jsxs)("tr",{children:[Object(X.jsx)("td",{children:t+1}),Object(X.jsx)("td",{children:e.first_name}),Object(X.jsx)("td",{children:e.last_name}),Object(X.jsx)("td",{children:e.email}),Object(X.jsx)("td",{children:Object(X.jsx)("span",{class:"badge ".concat("GUARD"===e.role?"bg-primary":"bg-success"),children:e.role})}),Object(X.jsx)("td",{children:e.phone})]},e.id)}))})]})})},De=a(141),Me=a(1880),Se=De.a.Option,Ne=function(){var e=Object(r.b)();return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("h5",{className:"mb-4",children:b["user from title"]}),Object(X.jsxs)(ce.a,{name:"add_user",onFinish:function(t){e(function(e){return function(t){t({type:M}),y.POST("/user",e,!0).then((function(e){t({type:_}),t({type:S,payload:e.data})})).catch((function(e){console.log(e.response.data),ge.handleError(e.response),t({type:N})}))}}(t))},children:[Object(X.jsxs)("label",{htmlFor:"first_name",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"}),b["first name"]]}),Object(X.jsx)(ce.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input First Name!"}],children:Object(X.jsx)(re.a,{placeholder:"First Name",size:"large"})}),Object(X.jsxs)("label",{htmlFor:"last_name",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"}),b["last name"]]}),Object(X.jsx)(ce.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input  Last Name!"}],children:Object(X.jsx)(re.a,{placeholder:"Last Name",size:"large"})}),Object(X.jsxs)("label",{htmlFor:"email",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"}),b.email]}),Object(X.jsx)(ce.a.Item,{name:"email",rules:[{required:!0,message:"Please input  Email!"},{type:"email"}],children:Object(X.jsx)(re.a,{prefix:Object(X.jsx)(de.a,{className:"site-form-item-icon"}),placeholder:"Email",size:"large"})}),Object(X.jsxs)("label",{htmlFor:"password",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b.password]}),Object(X.jsx)(ce.a.Item,{name:"password",rules:[{required:!0,message:"Please input  Password!"},{pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z@$&!\\d]{8,32}$",message:"Password must be 8 character long and One Number!"}],hasFeedback:!0,children:Object(X.jsx)(re.a.Password,{prefix:Object(X.jsx)(oe.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})}),Object(X.jsxs)("label",{htmlFor:"password",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b["phone number"]]}),Object(X.jsx)(ce.a.Item,{name:"phone",rules:[{required:!0,message:"Please input Phone Number!"}],children:Object(X.jsx)(Me.a,{style:{width:"100%"},placeholder:"Phone Number",size:"large"})}),Object(X.jsxs)("label",{htmlFor:"password",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b.role]}),Object(X.jsx)(ce.a.Item,{name:"role",rules:[{required:!0,message:"Input User Role."}],children:Object(X.jsxs)(De.a,{size:"large",placeholder:"User Type",allowClear:!0,children:[Object(X.jsx)(Se,{value:"SUPERVISOR",children:b.SUPERVISOR}),Object(X.jsx)(Se,{value:"GUARD",children:b.GUARD})]})}),Object(X.jsx)(ce.a.Item,{children:Object(X.jsx)(le.a,{type:"primary",htmlType:"submit",block:!0,className:"login-form-button",size:"large",children:b["add user"]})})]})]})},ke=function(e){return function(t){t({type:Y,component:e})}},Ie=function(){return function(e){e({type:_})}},Ee=function(){var e=Object(r.b)();return Object(n.useEffect)((function(){e((function(e){y.GET("/user",!0,{}).then((function(t){e({type:D,payload:t.data})}))}))}),[e]),Object(X.jsx)("div",{className:"containers  ",children:Object(X.jsxs)("div",{className:"px-4",children:[Object(X.jsx)("div",{className:"add-button ",children:Object(X.jsx)(le.a,{type:"primary",onClick:function(){e(ke(Object(X.jsx)(Ne,{})))},size:"large",icon:Object(X.jsx)(Ye.a,{}),children:"Add User"})}),Object(X.jsx)("div",{className:"my-4",children:Object(X.jsx)(_e,{})})]})})},Ae=a(1883),we=function(){var e=Object(d.g)();return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Ae.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(X.jsx)(le.a,{type:"primary",onClick:function(){return e(-1)},children:"Go Back"})})})},Te=a(1876),Ce=a(1885),Fe=a(1890),He=a(244),Re=a(1875),Le=[{title:"Date",dataIndex:"date",key:"date"},{title:"Guard Name",dataIndex:"name",key:"name"},{title:"Storage",dataIndex:"storage",key:"storage"},{title:"Shift",key:"shift",dataIndex:"shift"},{title:"Start Time",key:"start_time",dataIndex:"start_time"},{title:"End Time",key:"end_time",dataIndex:"end_time"},{title:"Holiday",key:"holiday",dataIndex:"holiday",render:function(e){return e&&Object(X.jsx)(He.a,{color:"error",children:e})}},{title:"Leave",key:"on_leave",dataIndex:"on_leave",render:function(e){return e&&Object(X.jsx)(He.a,{color:"gold",children:e})}}],Pe=function(e){var t=e.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Re.a,{columns:Le,dataSource:t,pagination:!1})})},Ue=function(){return function(e){y.GET("/user/fetch-guard",!0,{}).then((function(t){e({type:I,payload:t.data})}))}},ze=a(232),Ge=a(14),Be=a.n(Ge),We=De.a.Option,qe=Te.a.RangePicker,Ve=function(){var e=Object(n.useState)(),t=Object(be.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),d=Object(be.a)(c,2),o=d[0],j=d[1],u=Object(n.useState)(null),h=Object(be.a)(u,2),f=h[0],m=h[1],O=Object(n.useState)(),x=Object(be.a)(O,2),g=x[0],v=x[1],p=Object(n.useState)(),Y=Object(be.a)(p,2),_=Y[0],D=Y[1],M=Object(r.b)(),S=Object(n.useRef)(null),N=Object(r.c)((function(e){return e.guard})).guards;Object(n.useEffect)((function(){y.GET("/shift/all-shift",!0,{start_date:a?Be()(a[0]).format("YYYY-MM-DD"):null,end_date:a?Be()(a[1]).format("YYYY-MM-DD"):null,guard_id:_,leave:f}).then((function(e){j(e.data)})).catch((function(e){}))}),[a,_,f]),Object(n.useEffect)((function(){M(Ue())}),[]),Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.map((function(e){var t,a,n,i;return{key:e.id,date:e.shift_date,name:(null===(t=e.user)||void 0===t?void 0:t.first_name)+" "+(null===(a=e.user)||void 0===a?void 0:a.last_name),storage:e.site,shift:e.shift_number,start_time:Be()(e.start_time).format("DD-MMM-HH:mm"),end_time:Be()(e.end_time).format("D-MMM-HH:mm"),holiday:e.is_holiday?null===(n=e.holiday)||void 0===n?void 0:n.name_holiday:"",on_leave:e.on_leave?null===(i=e.dayoff)||void 0===i?void 0:i.category:""}}));v(e)}),[o]);var k=null===N||void 0===N?void 0:N.map((function(e){return Object(X.jsxs)(We,{value:e.id,children:[e.first_name," ",e.last_name]},e.id)})),I=i.a.useCallback((function(){return S.current}),[S.current]),E=Object(ze.useReactToPrint)({content:I,documentTitle:"Shift",removeAfterPrint:!0,copyStyles:!0,bodyClass:"px-4 py-2"});return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)("div",{className:"containers mx-auto",children:[Object(X.jsxs)("div",{className:"px-4 py-4 d-flex justify-content-between",children:[Object(X.jsxs)("h1",{children:[b["Manage Shift"]," "]}),Object(X.jsx)(l.b,{to:"/add-shift",children:Object(X.jsx)(le.a,{size:"large",type:"primary",children:"Add Shift"})})]}),Object(X.jsxs)("div",{className:"px-4 ",children:[Object(X.jsx)("div",{className:" d-flex flex-row-reverse py-2",children:Object(X.jsxs)(Ce.b,{direction:"horizontal",size:12,children:[Object(X.jsx)(qe,{onChange:function(e){s(e)}}),Object(X.jsxs)(De.a,{allowClear:!0,onChange:function(e){D(e)},style:{width:"300px"},placeholder:b.GUARD,clearIcon:!0,children:[k,Object(X.jsx)(We,{value:null,children:"All"})]}),Object(X.jsxs)(De.a,{allowClear:!0,onChange:function(e){m(e)},style:{width:"150px"},placeholder:b["On Leave"],clearIcon:!0,children:[Object(X.jsx)(We,{value:!0,children:"On Leave"}),Object(X.jsx)(We,{value:!1,children:"Not On Leave"}),Object(X.jsx)(We,{value:null,children:"All"})]}),Object(X.jsxs)(le.a,{onClick:E,type:"ghost",children:[Object(X.jsx)(Fe.a,{})," ",b.Print]})]})}),Object(X.jsx)("div",{ref:S,children:Object(X.jsx)(Pe,{data:g})})]})]})})},Je=a(1877),Qe=a(1866),Ze=a(129),$e=a(1867),Xe=a(1868),Ke=a(1869),et=a(1870),tt=a(1893),at=a(1871),nt=a(1894);var it=function(){var e=Object(n.useState)([]),t=Object(be.a)(e,2),a=t[0],i=t[1],s=Object(r.b)(),c=Object(r.c)((function(e){return e.shiftadmin.shift_guard}));Object(n.useEffect)((function(){s((function(e){y.GET("/shift/by-guard",!0,{}).then((function(t){console.log(t.data),e({type:L,payload:t.data})})).catch((function(e){}))}))}),[]),Object(n.useEffect)((function(){var e=c.map((function(e){var t,a,n,i,s;return e.is_holiday?{Id:e.id,Subject:(null===(n=e.user)||void 0===n?void 0:n.first_name)+" "+(null===(i=e.user)||void 0===i?void 0:i.last_name),StartTime:e.start_time,EndTime:e.end_time,CategoryColor:"#dd4949",Location:null===(s=e.holiday)||void 0===s?void 0:s.name_holiday}:{Id:e.id,Subject:(null===(t=e.user)||void 0===t?void 0:t.first_name)+" "+(null===(a=e.user)||void 0===a?void 0:a.last_name),StartTime:e.start_time,EndTime:e.end_time,CategoryColor:"#4ABEAE"}}));i(e)}),[c]);var l=function(e){return(e.data instanceof Array?e.data[0]:e.data).StartTime<new Date};return Object(X.jsxs)("div",{className:"containers  ",children:[Object(X.jsx)("div",{children:Object(X.jsx)("h3",{className:"my-4",children:b["Time Shadule"]})}),Object(X.jsx)("div",{className:"schedule-control-section",children:Object(X.jsx)("div",{className:" control-section",children:Object(X.jsx)("div",{className:"control-wrapper",children:Object(X.jsxs)(Je.a,{height:"650px",eventSettings:{dataSource:a,fields:{}},eventRendered:function(e){!function(e,t){var a=e.data.CategoryColor;e.element&&a&&("Agenda"===t?e.element.firstChild.style.borderLeftColor=a:e.element.style.backgroundColor=a)}(e,a)},popupOpen:function(e){(e.target&&!e.target.classList.contains("e-appointment")&&"QuickInfo"===e.type||"Editor"===e.type)&&(e.cancel=l(e))},actionBegin:function(e){"eventCreate"!==e.requestType&&"eventChange"!==e.requestType&&"eventRemove"!==e.requestType||(e.cancel=l(e))},dragStop:function(e){e.cancel=l(e)},children:[Object(X.jsxs)(Qe.b,{children:[Object(X.jsx)(Qe.a,{option:"Day"}),Object(X.jsx)(Qe.a,{option:"Week"}),Object(X.jsx)(Qe.a,{option:"WorkWeek"}),Object(X.jsx)(Qe.a,{option:"Month"})]}),Object(X.jsx)(Ze.c,{services:[$e.a,Xe.a,Ke.a,et.a,tt.a,at.a,nt.a]})]})})})})]})},st=a(1891),ct=[{title:b["Start Date"],dataIndex:"start_date",key:"start_date"},{title:b["End Date"],dataIndex:"end_date",key:"end_date"},{title:b.Category,dataIndex:"category",key:"category"},{title:b.Status,dataIndex:"status",key:"status",render:function(e){return e?Object(X.jsx)(He.a,{color:"success",children:b.Accepted}):Object(X.jsx)(He.a,{color:"orange",children:b["Not Accepted"]})}}],rt=function(){var e=Object(r.c)((function(e){return e.leaves})).leaves,t=Object(n.useState)([]),a=Object(be.a)(t,2),i=a[0],s=a[1];return Object(n.useEffect)((function(){var t=null===e||void 0===e?void 0:e.map((function(e){return{key:e.id,start_date:Be()(e.start_date).format("MMM/DD/YYYY"),end_date:Be()(e.end_date).format("MMM/DD/YYYY"),category:e.category,status:e.status}}));s(t)}),[e]),Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Re.a,{columns:ct,dataSource:i,pagination:!1})})},lt=Te.a.RangePicker,dt=function(){var e=Object(r.b)(),t=ce.a.useForm(),a=Object(be.a)(t,1)[0];return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("h3",{children:b["Request For Leave"]}),Object(X.jsxs)(ce.a,{name:"shift-form",style:{padding:"25px 0"},form:a,onFinish:function(t){var a={start_date:Be()(t.date[0]).format("YYYY-MM-DD"),end_date:Be()(t.date[1]).format("YYYY-MM-DD"),category:t.category};e(function(e){return function(t){t({type:U}),y.POST("/day-off",e,!0).then((function(e){t({type:z,payload:e.data}),t({type:_})})).catch((function(e){ge.handleError(e.response),t({type:G})}))}}(a))},children:[Object(X.jsxs)("label",{htmlFor:"start_date",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"}),b["Start Date"],"-",b["End Date"]]}),Object(X.jsx)(ce.a.Item,{name:"date",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(lt,{size:"large",style:{width:"100%"}})}),Object(X.jsxs)("label",{htmlFor:"category",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b.Category]}),Object(X.jsx)(ce.a.Item,{name:"category",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(re.a,{size:"large",placeholder:b["Leave Category"]})}),Object(X.jsx)(ce.a.Item,{children:Object(X.jsx)(le.a,{type:"primary",htmlType:"submit",size:"large",block:!0,children:b["Request Leaves"]})})]})]})},ot=function(){var e=Object(r.b)();return Object(n.useEffect)((function(){e((function(e){y.GET("/day-off",!0,{}).then((function(t){e({type:P,payload:t.data})})).catch((function(e){}))}))}),[]),Object(X.jsx)("div",{className:"containers  ",children:Object(X.jsxs)("div",{className:"px-4",children:[Object(X.jsx)("div",{className:"add-button ",children:Object(X.jsx)(le.a,{type:"primary",onClick:function(){e(ke(Object(X.jsx)(dt,{})))},size:"large",icon:Object(X.jsx)(st.a,{}),children:b["Request Leaves"]})}),Object(X.jsx)("div",{className:"my-4",children:Object(X.jsx)(rt,{})})]})})},jt=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.leaves})).leaves,a=Object(n.useState)([]),i=Object(be.a)(a,2),s=i[0],c=i[1],l=[{title:b.sn,dataIndex:"sn",key:"sn"},{title:b["Start Date"],dataIndex:"start_date",key:"start_date"},{title:b["End Date"],dataIndex:"end_date",key:"end_date"},{title:b.GUARD,dataIndex:"guard",key:"guard"},{title:b.Category,dataIndex:"category",key:"category"},{title:b.Status,dataIndex:"status",key:"status",render:function(t){return t.status?Object(X.jsx)(He.a,{color:"success",children:b.Accepted}):Object(X.jsx)(le.a,{type:"primary",onClick:function(){var a,n;e((a=t.id,n={user_id:t.user.id,start_date:t.start_date,end_date:t.end_date,status:!0},function(e){e({type:B}),y.PUT("/day-off/".concat(a),n,!0).then((function(t){e({type:W,id:a,payload:t.data}),ge.showSuccess("Leave Accepted.")})).catch((function(t){e({type:q}),ge.handleError(t.response)}))}))},children:b.accept})}}];return Object(n.useEffect)((function(){var e=null===t||void 0===t?void 0:t.map((function(e,t){var a,n;return{key:e.id,sn:t+1,start_date:Be()(e.start_date).format("MMM/DD/YYYY"),end_date:Be()(e.end_date).format("MMM/DD/YYYY"),guard:(null===(a=e.user)||void 0===a?void 0:a.first_name)+" "+(null===(n=e.user)||void 0===n?void 0:n.last_name),category:e.category,status:e}}));c(e)}),[t]),Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Re.a,{columns:l,dataSource:s,pagination:!1})})},ut=function(){var e=Object(r.b)();return Object(n.useEffect)((function(){e((function(e){y.GET("/day-off/admin",!0,{}).then((function(t){e({type:P,payload:t.data})})).catch((function(e){}))}))}),[]),Object(X.jsx)("div",{className:"containers  ",children:Object(X.jsxs)("div",{className:"px-4",children:[Object(X.jsx)("h3",{className:"mt-4 mb-4",children:b["Leaves Requests"]}),Object(X.jsx)(jt,{})]})})},ht=function(){return function(e){y.GET("/holiday",!0,{}).then((function(t){e({type:V,payload:t.data})})).catch((function(e){}))}},bt=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.holiday})).holidays,a=Object(n.useState)([]),i=Object(be.a)(a,2),s=i[0],c=i[1];Object(n.useEffect)((function(){var e=null===t||void 0===t?void 0:t.map((function(e,t){return{sn:t+1,key:e.id,holiday_date:Be()(e.calendar_date).format("MMM/DD/YYYY"),holiday_name:e.name_holiday,action:e}}));c(e)}),[t]);var l=[{title:b.sn,dataIndex:"sn",key:"sn"},{title:b["Holiday Date"],dataIndex:"holiday_date",key:"holiday_date"},{title:b["Holiday Name"],dataIndex:"holiday_name",key:"holiday_name"},{title:b.Action,dataIndex:"action",key:"action",render:function(t){return!t.status&&Object(X.jsx)(le.a,{type:"error",onClick:function(){var a;e((a=t.id,function(e){y.REMOVE("/holiday/".concat(a)).then((function(t){e({type:$,id:a}),ge.showSuccess(t.data.message)})).catch((function(e){ge.handleError(e.response)}))}))},children:b.Remove})}}];return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Re.a,{columns:l,dataSource:s,pagination:!1})})},ft=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.holiday})).loading,a=ce.a.useForm(),n=Object(be.a)(a,1)[0];return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("h3",{children:b["Add Holiday"]}),Object(X.jsxs)(ce.a,{name:"holiday-form",style:{padding:"25px 0"},form:n,onFinish:function(t){e(function(e){return function(t){t({type:J}),y.POST("/holiday",e,!0).then((function(e){t({type:Q,payload:e.data}),t({type:_})})).catch((function(e){t({type:Z}),ge.handleError(e.response)}))}}(t))},children:[Object(X.jsxs)("label",{htmlFor:"calendar_date",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"}),b["Holiday Date"]]}),Object(X.jsx)(ce.a.Item,{name:"calendar_date",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(Te.a,{size:"large",style:{width:"100%"}})}),Object(X.jsxs)("label",{htmlFor:"name_holiday",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b["Holiday Name"]]}),Object(X.jsx)(ce.a.Item,{name:"name_holiday",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(re.a,{size:"large",placeholder:b["Holiday Name"]})}),Object(X.jsx)(ce.a.Item,{children:Object(X.jsx)(le.a,{loading:t,type:"primary",htmlType:"submit",size:"large",block:!0,children:b["Add Holiday"]})})]})]})},mt=function(){var e=Object(r.b)();Object(n.useEffect)((function(){e(ht())}),[ht,e]);return Object(X.jsxs)("div",{className:"containers  ",children:[Object(X.jsxs)("div",{className:"px-4 d-flex justify-content-between",children:[Object(X.jsx)("h3",{className:"mt-4 mb-4",children:b["Holiday List"]}),Object(X.jsx)("div",{className:"add-button ",children:Object(X.jsx)(le.a,{type:"primary",onClick:function(){e(ke(Object(X.jsx)(ft,{})))},size:"large",icon:Object(X.jsx)(st.a,{}),children:b["Add Holiday"]})})]}),Object(X.jsx)("div",{className:"px-4",children:Object(X.jsx)(bt,{})})]})},Ot=a(1873),xt=a(1872),yt=a(233),gt=a(234),vt=a(40),pt=a(170);a(369);vt.e.register(vt.d,vt.i,vt.b,vt.n,vt.o,vt.g);var Yt={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:b["Working Chart"]}}},_t=function(){var e=Object(n.useState)(Object(yt.a)(new Date)),t=Object(be.a)(e,2),a=t[0],i=(t[1],Object(n.useState)([])),s=Object(be.a)(i,2),c=s[0],r=s[1],l=Object(n.useState)(Object(gt.a)(new Date)),d=Object(be.a)(l,2),o=d[0],j=(d[1],Object(xt.a)({start:a,end:o}).map((function(e){return Be()(e).format("MMM")})));Object(n.useEffect)((function(){y.GET("/shift/bar-guard",!0,{startDate:a,endDate:o}).then((function(e){r(e.data)})).catch((function(e){}))}),[]);var u={labels:j,datasets:[{label:b["Shift One"],data:j.map((function(e){return 8*c.filter((function(t){return e===Be()(t.shift_date).format("MMM")&&1===t.shift_number})).length})),backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:b["Shift Two"],data:j.map((function(e){return 8*c.filter((function(t){return e===Be()(t.shift_date).format("MMM")&&2===t.shift_number})).length})),backgroundColor:"rgba(53, 162, 235, 0.5)"},{label:b["Shift Three"],data:j.map((function(e){return 8*c.filter((function(t){return e===Be()(t.shift_date).format("MMM")&&3===t.shift_number})).length})),backgroundColor:"#FEC134"}]};return Object(X.jsx)(pt.a,{options:Yt,data:u})},Dt=je.a.Title,Mt=function(){var e=Object(n.useState)([]),t=Object(be.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(new Date),c=Object(be.a)(s,2),r=c[0],l=c[1],d=[{title:b.sn,dataIndex:"sn",key:"sn"},{title:b["shift date"],dataIndex:"shift_date",key:"shift_date"},{title:b["Shift One"]+"(Hr)",dataIndex:"shift_one",key:"shift_one"},{title:b["Shift Two"]+"(Hr)",dataIndex:"shift_two",key:"shift_two"},{title:b["Shift Three"]+"(Hr)",dataIndex:"shift_three",key:"shift_three"},{title:b.Holiday+"(Hr)",dataIndex:"holiday",holiday:"holiday",render:function(e){return e&&Object(X.jsx)("p",{style:{color:"red"},children:e})}}];return Object(n.useEffect)((function(){y.GET("/shift/shift-guard-dash",!0,{date:Be()(r).format("YYYY-MM-DD")}).then((function(e){var t=e.data,a=null===t||void 0===t?void 0:t.map((function(e,t){return{key:e.id,sn:t+1,shift_date:Be()(e.shift_date).format("MMM/DD/YYYY"),shift_one:8*e.shift_one,shift_two:8*e.shift_two,shift_three:8*e.shift_three,holiday:8*e.holiday}}));i(a)})).catch((function(e){}))}),[r]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(ne.a,{justify:"space-between",align:"middle",children:[Object(X.jsx)(ie.a,{children:Object(X.jsxs)(Dt,{level:5,children:[b["Working Month"],"-",Be()(r).format("MMMM")]})}),Object(X.jsx)(ie.a,{children:Object(X.jsx)(Te.a,{onChange:function(e){l(e)},picker:"month"})})]}),Object(X.jsx)(Re.a,{columns:d,dataSource:a,pagination:!1,bordered:!0})]})},St=function(){var e=Object(n.useState)(0),t=Object(be.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(0),c=Object(be.a)(s,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){y.GET("/shift/total-guard",!0,{}).then((function(e){i(e.data.saduleMonth),l(e.data.saduleWeek)})).catch((function(e){}))}),[]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)("div",{className:"row my-4",children:[Object(X.jsx)("div",{className:"col-xl-3 col-lg-6",children:Object(X.jsx)("div",{className:"card card-stats mb-4 mb-xl-0",children:Object(X.jsxs)("div",{className:"card-body",children:[Object(X.jsxs)("div",{className:"row",children:[Object(X.jsxs)("div",{className:"col",children:[Object(X.jsx)("h5",{className:"card-title text-uppercase text-muted mb-0",children:b["Working Hour"]}),Object(X.jsx)("span",{className:"h2 font-weight-bold mb-0",children:a})]}),Object(X.jsx)("div",{className:"col-auto",children:Object(X.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(X.jsx)("i",{className:"fas fa-chart-bar"})})})]}),Object(X.jsx)("p",{className:"mt-3 mb-0 text-muted text-sm",children:Object(X.jsx)("span",{className:"text-nowrap",children:b["Since last month"]})})]})})}),Object(X.jsx)("div",{className:"col-xl-3 col-lg-6",children:Object(X.jsx)("div",{className:"card card-stats mb-4 mb-xl-0",children:Object(X.jsxs)("div",{className:"card-body",children:[Object(X.jsxs)("div",{className:"row",children:[Object(X.jsxs)("div",{className:"col",children:[Object(X.jsx)("h5",{className:"card-title text-uppercase text-muted mb-0",children:b["Working Hour"]}),Object(X.jsx)("span",{className:"h2 font-weight-bold mb-0",children:r})]}),Object(X.jsx)("div",{className:"col-auto",children:Object(X.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(X.jsx)("i",{className:"fas fa-chart-bar"})})})]}),Object(X.jsx)("p",{className:"mt-3 mb-0 text-muted text-sm",children:Object(X.jsx)("span",{className:"text-nowrap",children:b["Since last Week"]})})]})})})]}),Object(X.jsx)("div",{className:"my-4",children:Object(X.jsx)(_t,{})}),Object(X.jsx)(Ot.a,{}),Object(X.jsx)("div",{className:"my-4",children:Object(X.jsx)(Mt,{})})]})},Nt=a(43),kt=a(235),It=a.n(kt);vt.e.register(vt.d,vt.i,vt.b,vt.n,vt.o,vt.g);var Et=function(){var e=Object(n.useState)([]),t=Object(be.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(new Date),c=Object(be.a)(s,2),r=c[0],l=c[1],d=Object(n.useState)({datasets:[]}),o=Object(be.a)(d,2),j=o[0],u=o[1],h={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:b["Working Statistic of"]+"-"+Be()(r).format("YYYY")}}};return Object(n.useEffect)((function(){y.GET("/shift/dash-shift-year",!0,{date:Be()(r).format("YYYY-MM-DD")}).then((function(e){console.log(r),i(e.data)})).catch((function(e){}))}),[r]),Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.map((function(e){return{label:e.gurd_name,data:Object(Nt.a)({},e.gurd_name,8*e.total),backgroundColor:It()()}}));u({datasets:e})}),[a]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ne.a,{justify:"end",align:"middle",children:Object(X.jsx)(ie.a,{children:Object(X.jsx)(Te.a,{onChange:function(e){l(e)},picker:"year"})})}),Object(X.jsx)(pt.a,{options:h,data:j})]})},At=je.a.Title,wt=function(){var e=Object(n.useState)([]),t=Object(be.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(new Date),c=Object(be.a)(s,2),r=c[0],l=c[1],d=[{title:b["shift date"],dataIndex:"shift_date",key:"shift_date"},{title:b["Guard Name"],dataIndex:"guard_name",key:"guard_name"},{title:b["Shift One"]+"(Hr)",dataIndex:"shift_one",key:"shift_one"},{title:b["Shift Two"]+"(Hr)",dataIndex:"shift_two",key:"shift_two"},{title:b["Shift Three"]+"(Hr)",dataIndex:"shift_three",key:"shift_three"},{title:b.Holiday+"(Hr)",dataIndex:"holiday",holiday:"holiday",render:function(e){return e&&Object(X.jsx)("p",{style:{color:"red"},children:e})}},{title:b.Total+"(Hr)",dataIndex:"total_working_hour",key:"total_working_hour"}];return Object(n.useEffect)((function(){y.GET("/shift/dash-shift-table",!0,{date:r}).then((function(e){var t=e.data,a=null===t||void 0===t?void 0:t.map((function(e,t){var a,n,i;return{key:null===(a=e.dataValues)||void 0===a?void 0:a.id,sn:t+1,shift_date:Be()().startOf("week").format("MMM/DD/YYYY")+"-"+Be()().endOf("week").format("MMM/DD/YYYY"),guard_name:(null===(n=e.dataValues)||void 0===n?void 0:n.first_name)+" "+(null===(i=e.dataValues)||void 0===i?void 0:i.last_name),shift_one:8*e.shift_one,shift_two:8*e.shift_two,shift_three:8*e.shift_three,total_working_hour:8*e.total,holiday:8*e.holiday}}));i(a)})).catch((function(e){}))}),[r]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(ne.a,{justify:"space-between",align:"middle",children:[Object(X.jsx)(ie.a,{children:Object(X.jsx)(At,{level:5,children:b["Working Week"]})}),Object(X.jsx)(ie.a,{children:Object(X.jsx)(Te.a,{onChange:function(e){l(e)},picker:"week"})})]}),Object(X.jsx)(Re.a,{columns:d,dataSource:a,pagination:!1})]})},Tt=je.a.Title,Ct=function(){var e=Object(n.useState)([]),t=Object(be.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(new Date),c=Object(be.a)(s,2),r=c[0],l=c[1],d=[{title:b["shift date"],dataIndex:"shift_date",key:"shift_date"},{title:b["Guard Name"],dataIndex:"guard_name",key:"guard_name"},{title:b["Shift One"]+"(Hr)",dataIndex:"shift_one",key:"shift_one"},{title:b["Shift Two"]+"(Hr)",dataIndex:"shift_two",key:"shift_two"},{title:b["Shift Three"]+"(Hr)",dataIndex:"shift_three",key:"shift_three"},{title:b.Holiday+"(Hr)",dataIndex:"holiday",holiday:"holiday",render:function(e){return e&&Object(X.jsx)("p",{style:{color:"red"},children:e})}},{title:b.Total+"(Hr)",dataIndex:"total_working_hour",key:"total_working_hour"}];return Object(n.useEffect)((function(){y.GET("/shift/dash-shift-month",!0,{date:Be()(r).format("YYYY-MM-DD")}).then((function(e){var t=e.data,a=null===t||void 0===t?void 0:t.map((function(e,t){var a,n,i;return{key:null===(a=e.dataValues)||void 0===a?void 0:a.id,sn:t+1,shift_date:Be()(r).startOf("week").format("MMM/DD/YYYY")+"-"+Be()(r).endOf("week").format("MMM/DD/YYYY"),guard_name:(null===(n=e.dataValues)||void 0===n?void 0:n.first_name)+" "+(null===(i=e.dataValues)||void 0===i?void 0:i.last_name),shift_one:8*e.shift_one,shift_two:8*e.shift_two,shift_three:8*e.shift_three,total_working_hour:8*e.total,holiday:8*e.holiday}}));i(a)})).catch((function(e){}))}),[r]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(ne.a,{justify:"space-between",align:"middle",children:[Object(X.jsx)(ie.a,{children:Object(X.jsxs)(Tt,{level:5,children:[b["Working Month"],"-",Be()(r).format("MMMM")]})}),Object(X.jsx)(ie.a,{children:Object(X.jsx)(Te.a,{onChange:function(e){l(e)},picker:"month"})})]}),Object(X.jsx)(Re.a,{columns:d,dataSource:a,pagination:!1})]})},Ft=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Et,{}),Object(X.jsx)(Ot.a,{}),Object(X.jsx)(wt,{}),Object(X.jsx)(Ot.a,{}),Object(X.jsx)(Ct,{})]})},Ht=function(){var e=Object(r.c)((function(e){return e.user})),t=e.user,a=e.loggedIn;return Object(X.jsx)("div",{className:"containers",children:Object(X.jsxs)("div",{className:"px-4",children:[Object(X.jsx)("h3",{className:"my-4",children:b.Dashboard}),Object(X.jsxs)("div",{className:"my-4",children:[a&&"GUARD"===(null===t||void 0===t?void 0:t.role)&&Object(X.jsx)(St,{}),!a||"SUPERVISOR"!==(null===t||void 0===t?void 0:t.role)&&"ADMIN"!==(null===t||void 0===t?void 0:t.role)?"":Object(X.jsx)(Ft,{})]})]})})},Rt=a(1874),Lt=a(230),Pt=a(143),Ut=a(1892),zt=a(142),Gt=De.a.Option,Bt=function(e){var t=e.update,a=Object(r.b)(),i=ce.a.useForm(),s=Object(be.a)(i,1)[0],c=Object(r.c)((function(e){return e.guard})).guards,l=Object(r.c)((function(e){return e.modal})).open,d=Object(r.c)((function(e){return e.shiftForm})).data,o=Object(r.c)((function(e){return e.shiftadmin})),j=o.submitbtn,u=o.added,h=Object(n.useState)(!1),f=Object(be.a)(h,2),m=f[0],O=f[1];Object(n.useEffect)((function(){a(Ue())}),[]),Object(n.useEffect)((function(){u&&a(Ie())}),[u]),Object(n.useEffect)((function(){l||(s.resetFields(),O(!1))}),[l]);var x=null===c||void 0===c?void 0:c.map((function(e){return e.user_id!==d.user_id&&t?Object(X.jsxs)(Gt,{value:e.id,children:[e.first_name," ",e.last_name]},e.id):t?null:Object(X.jsxs)(Gt,{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}));Object(n.useEffect)((function(){s.setFieldsValue({user_id:d.user_id,shift_number:d.shift_number,shift_date:d.shift_date,site:d.site,name_holiday:d.name_holiday}),O(d.is_holiday)}),[d,t]);return Object(X.jsxs)(ce.a,{name:"shift-form",style:{padding:"25px 0"},form:s,onFinish:function(e){a(t?function(e,t){return function(a){a({type:T}),y.PUT("/shift/".concat(e),t,!0).then((function(t){a({type:H,payload:t.data,id:e})})).catch((function(e){ge.handleError(e.response),a({type:F})}))}}(d.shift_id,Object(fe.a)(Object(fe.a)({},d),{},{user_id:e.user_id})):function(e){return function(t){t({type:T}),y.POST("/shift",e,!0).then((function(e){t({type:C,payload:e.data})})).catch((function(e){ge.handleError(e.response),t({type:F})}))}}(Object(fe.a)(Object(fe.a)({},e),d)))},children:[Object(X.jsxs)("label",{htmlFor:"user_id",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b.GUARD]}),Object(X.jsx)(ce.a.Item,{name:"user_id",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(De.a,{placeholder:b.GUARD,size:"large",children:x})}),Object(X.jsxs)("label",{htmlFor:"shift_date",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b["shift date"]]}),Object(X.jsx)(ce.a.Item,{name:"shift_date",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(re.a,{size:"large",placeholder:b["shift date"],readOnly:!0})}),Object(X.jsxs)("label",{htmlFor:"site",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b["storage area"]]}),Object(X.jsx)(ce.a.Item,{name:"site",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(re.a,{size:"large",placeholder:b["storage area"],readOnly:!0})}),Object(X.jsxs)("label",{htmlFor:"shift_number",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b.shift]}),Object(X.jsx)(ce.a.Item,{name:"shift_number",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(Me.a,{size:"large",placeholder:b.shift,style:{width:"100%"},readOnly:!0})}),Object(X.jsx)(ce.a.Item,{valuePropName:"checked",children:Object(X.jsx)(zt.a,{size:"large",checked:m,children:b["is holiday"]})}),m&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)("label",{htmlFor:"shift_number",children:[Object(X.jsx)("span",{style:{color:"red"},children:"*"})," ",b["holiday name"]]}),Object(X.jsx)(ce.a.Item,{name:"name_holiday",rules:[{required:!0,message:b["invalid input"]}],children:Object(X.jsx)(re.a,{readOnly:!0,size:"large",placeholder:b["holiday name"]})})]}),Object(X.jsx)(ce.a.Item,{children:Object(X.jsx)(le.a,{loading:j,type:"primary",htmlType:"submit",size:"large",block:!0,children:t?b["update shift"]:b["add shift"]})}),t&&Object(X.jsx)(le.a,{loading:j,onClick:function(){var e;a((e=d.shift_id,function(t){t({type:T}),y.REMOVE("/shift/".concat(e),!0).then((function(a){ge.showSuccess(a.data.message),t({type:R,id:e})})).catch((function(e){ge.handleError(e.response),t({type:F})}))}))},type:"primary",size:"large",block:!0,danger:!0,children:b["remove shift"]})]})},Wt=function(e){return function(t){y.GET("/holiday/holiday",!0,{date:e.shift_date}).then((function(a){var n;t({type:E,payload:Object(fe.a)(Object(fe.a)({},e),{},{is_holiday:!!a.data,name_holiday:null===(n=a.data)||void 0===n?void 0:n.name_holiday})})})).catch((function(e){}))}},qt=function(){var e=Object(d.g)(),t=Object(n.useState)(new Date),a=Object(be.a)(t,2),i=a[0],s=a[1],c=Object(n.useState)({}),l=Object(be.a)(c,2),o=l[0],j=l[1],u=Object(r.c)((function(e){return e.shiftadmin})),h=u.loading,f=u.shift,m=Object(r.b)(),O=Object(n.useState)(new Date((new Date).setDate((new Date).getDate()+6))),x=Object(be.a)(O,2),g=x[0],v=x[1];Object(n.useEffect)((function(){var e=f.reduce((function(e,t){return Object.assign(e,Object(Nt.a)({},Be()(t.shift_date).format("YYYY-MM-DD")+"-"+t.site+"-"+t.shift_number+"-"+t.user_num,t))}),{});j(e),console.log(e)}),[f]),Object(n.useEffect)((function(){var e;m((e={start_date:Be()(i).subtract(1,"day").format(),end_date:g},function(t){t({type:w}),y.GET("/shift",!0,e).then((function(e){t({type:A,payload:e.data})})).catch((function(e){}))}))}),[i,g]);var p=function(e,t,a,n){m(Wt(Object(fe.a)({shift_date:e,shift_number:t,site:a},n))),m(ke(Object(X.jsx)(Bt,{update:!1})))},Y=function(e,t,a,n,i){m(Wt(Object(fe.a)(Object(fe.a)({shift_date:e,shift_number:t,site:a},n),{},{user_id:i}))),m(ke(Object(X.jsx)(Bt,{update:!0})))};return Object(X.jsxs)("div",{className:"containers",children:[Object(X.jsxs)(le.a,{onClick:function(){e("/manage-shift")},type:"primary",size:"large",children:[Object(X.jsx)(Pt.a,{})," Back"]}),Object(X.jsx)(Ot.a,{}),Object(X.jsx)("h2",{children:b["Manage Shift"]}),Object(X.jsxs)("div",{className:"d-flex justify-content-end my-2 mx-4",children:[Object(X.jsx)(le.a,{onClick:function(){s(new Date(i.setDate(i.getDate()-7))),v(new Date(g.setDate(g.getDate()-7)))},type:"dashed",size:"middle",children:b["Previous Week"]}),Object(X.jsx)(le.a,{onClick:function(){s(new Date(i.setDate(i.getDate()-1))),v(new Date(g.setDate(g.getDate()-1)))},type:"dashed",size:"middle",children:b["Previous Day"]}),Object(X.jsx)(le.a,{onClick:function(){s(new Date(i.setDate(i.getDate()+1))),v(new Date(g.setDate(g.getDate()+1)))},type:"dashed",size:"middle",children:b["Next Day"]}),Object(X.jsx)(le.a,{onClick:function(){s(new Date(i.setDate(i.getDate()+7))),v(new Date(g.setDate(g.getDate()+7)))},type:"dashed",size:"middle",children:b["Next Week"]})]}),Object(X.jsxs)(ne.a,{justify:"center",style:{background:"#EFEFEF",paddingTop:"15px "},children:[Object(X.jsx)(ie.a,{style:{padding:"2px",textAlign:"center"},xs:2,children:Object(X.jsx)("h4",{children:b.storage})}),Object(Rt.a)({start:i,end:g}).map((function(e,t){return Object(X.jsx)(ie.a,{xs:3,style:{textAlign:"center",fontWeight:"bold",fontSize:"16px"},children:Object(X.jsx)("p",{className:"".concat("Sun"===Be()(e).format("ddd")||"Sat"===Be()(e).format("ddd")?"text-danger":""),children:Be()(e).format("ddd DD MMM ")})},t)}))]}),h?Object(X.jsx)("div",{className:"d-flex justify-content-center my-5 py-5",children:Object(X.jsx)(Lt.a,{size:"large"})}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(ne.a,{justify:"center",gutter:6,style:{marginTop:"5px",padding:"15px",background:"#eeee"},children:[Object(X.jsx)(ie.a,{style:{padding:"4px 2px",justifyContent:"center",display:"flex",justifyItems:"center",alignItems:"center"},xs:2,children:Object(X.jsxs)("h4",{children:[b.storage," A"]})}),Object(Rt.a)({start:i,end:g}).map((function(e,t){var a,n,i,s,c,r,l,d,j,u,h,f,m,O,x,y,g,v,_;return Object(X.jsx)(ie.a,{xs:3,style:{font:"inherit",fontSize:"14px",fontWeight:600,textAlign:"center"},children:Object(X.jsxs)("div",{className:" d-flex flex-column",children:[o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"]?Object(X.jsxs)("div",{onClick:function(){var t,a,n,i,s;Y(Be()(e).format("YYYY-MM-DD"),1,"A",{user:1,shift_id:null===(t=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===t?void 0:t.id},null===(a=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===a?void 0:a.user_id,null===(n=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===n||n.is_holiday,null===(i=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===i||null===(s=i.holiday)||void 0===s||s.name_holiday)},className:"".concat((null===(a=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===a?void 0:a.is_holiday)?"bg-holiday":"fill-bg"," table-data mb-2  d-flex flex-column"),children:[Object(X.jsxs)("strong",{className:"my-2",children:[b.shift," 1"]}),Object(X.jsxs)("strong",{children:[null===(n=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===n||null===(i=n.user)||void 0===i?void 0:i.first_name," ",null===(s=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===s||null===(c=s.user)||void 0===c?void 0:c.last_name]}),Object(X.jsx)("small",{children:null===(r=o[Be()(e).format("YYYY-MM-DD")+"-A-1-1"])||void 0===r||null===(l=r.holiday)||void 0===l?void 0:l.name_holiday}),Object(X.jsx)("small",{className:"my-2",children:" 06:00 - 14:00"})]}):Object(X.jsxs)("div",{onClick:function(){p(Be()(e).format("YYYY-MM-DD"),1,"A",{user_num:1})},className:" table-data mb-2 d-flex flex-column",children:[Object(X.jsxs)("strong",{children:[b.shift," 1"]}),Object(X.jsx)(Ut.a,{style:{fontSize:"28px",margin:"13px 0"}}),Object(X.jsx)("small",{children:" 06:00 - 14:00"})]}),o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"]?Object(X.jsxs)("div",{onClick:function(){var t,a,n,i,s;Y(Be()(e).format("YYYY-MM-DD"),2,"A",{user_num:1,shift_id:null===(t=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===t?void 0:t.id},null===(a=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===a?void 0:a.user_id,null===(n=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===n||n.is_holiday,null===(i=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===i||null===(s=i.holiday)||void 0===s||s.name_holiday)},className:"".concat((null===(d=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===d?void 0:d.is_holiday)?"bg-holiday":"fill-bg"," table-data mb-2  d-flex flex-column"),children:[Object(X.jsxs)("strong",{className:"my-2",children:[b.shift," 2"]}),Object(X.jsxs)("strong",{children:[null===(j=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===j||null===(u=j.user)||void 0===u?void 0:u.first_name," ",null===(h=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===h||null===(f=h.user)||void 0===f?void 0:f.last_name]}),Object(X.jsx)("small",{children:null===(m=o[Be()(e).format("YYYY-MM-DD")+"-A-2-1"])||void 0===m||null===(O=m.holiday)||void 0===O?void 0:O.name_holiday}),Object(X.jsx)("small",{className:"my-2",children:" 14:00 - 22:00"})]}):Object(X.jsxs)("div",{onClick:function(){p(Be()(e).format("YYYY-MM-DD"),2,"A",{user_num:1})},className:" table-data mb-2 d-flex flex-column",children:[Object(X.jsx)("strong",{children:"Shift 2"}),Object(X.jsx)(Ut.a,{style:{fontSize:"28px",margin:"13px 0"}}),Object(X.jsx)("small",{children:" 14:00 - 22:00"})]}),o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"]?Object(X.jsxs)("div",{onClick:function(){var t,a,n,i,s;Y(Be()(e).format("YYYY-MM-DD"),3,"A",{user_num:1,shift_id:null===(t=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===t?void 0:t.id},null===(a=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===a?void 0:a.user_id,null===(n=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===n||n.is_holiday,null===(i=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===i||null===(s=i.holiday)||void 0===s||s.name_holiday)},className:"".concat((null===(x=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===x?void 0:x.is_holiday)?"bg-holiday":"fill-bg"," table-data mb-2  d-flex flex-column"),children:[Object(X.jsxs)("strong",{className:"my-2",children:[b.shift," 3"]}),Object(X.jsxs)("strong",{children:[null===(y=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===y?void 0:y.user.first_name," ",null===(g=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===g?void 0:g.user.last_name]}),Object(X.jsx)("small",{children:null===(v=o[Be()(e).format("YYYY-MM-DD")+"-A-3-1"])||void 0===v||null===(_=v.holiday)||void 0===_?void 0:_.name_holiday}),Object(X.jsx)("small",{className:"my-2",children:" 22:00 - 06:00"})]}):Object(X.jsxs)("div",{onClick:function(){p(Be()(e).format("YYYY-MM-DD"),3,"A",{user_num:1})},className:" table-data mb-2 d-flex flex-column",children:[Object(X.jsx)("strong",{children:"Shift 3"}),Object(X.jsx)(Ut.a,{style:{fontSize:"28px",margin:"13px 0"}}),Object(X.jsx)("small",{children:" 22:00 - 06:00"})]})]})},t)}))]}),Object(X.jsx)(Ot.a,{}),Object(X.jsxs)(ne.a,{justify:"center",gutter:6,style:{marginTop:"5px",background:"#E8F0F7",padding:"15px"},children:[Object(X.jsx)(ie.a,{style:{padding:"2px",justifyContent:"center",display:"flex",justifyItems:"center",alignItems:"center"},xs:2,children:Object(X.jsxs)("h4",{children:[b.storage," B"]})}),Object(Rt.a)({start:i,end:g}).map((function(e,t){var a,n,i,s,c,r,l,d,j,u,h,f,m;return Object(X.jsx)(ie.a,{xs:3,style:{font:"inherit",fontSize:"14px",fontWeight:600,textAlign:"center"},children:Object(X.jsxs)("div",{className:"d-flex flex-column",children:[o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"]?Object(X.jsxs)("div",{onClick:function(){var t,a,n,i,s;Y(Be()(e).format("YYYY-MM-DD"),1,"B",{user_num:1,shift_id:null===(t=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===t?void 0:t.id},null===(a=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===a?void 0:a.user_id,null===(n=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===n||n.is_holiday,null===(i=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===i||null===(s=i.holiday)||void 0===s||s.name_holiday)},className:"".concat((null===(a=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===a?void 0:a.is_holiday)?"bg-holiday":"fill-bg"," table-data mb-2  d-flex flex-column"),children:[Object(X.jsxs)("strong",{className:"my-2",children:[b.shift," 1"]}),Object(X.jsxs)("strong",{children:[null===(n=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===n?void 0:n.user.first_name," ",null===(i=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===i?void 0:i.user.last_name]}),Object(X.jsx)("small",{children:null===(s=o[Be()(e).format("YYYY-MM-DD")+"-B-1-1"])||void 0===s||null===(c=s.holiday)||void 0===c?void 0:c.name_holiday}),Object(X.jsx)("small",{className:"my-2",children:" 06:00 - 14:00"})]}):Object(X.jsxs)("div",{onClick:function(){p(Be()(e).format("YYYY-MM-DD"),1,"B",{user_num:1})},className:" table-data mb-2 d-flex flex-column",children:[Object(X.jsx)("strong",{children:"Shift 1"}),Object(X.jsx)(Ut.a,{style:{fontSize:"28px",margin:"13px 0"}}),Object(X.jsx)("small",{children:" 06:00 - 14:00"})]}),o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"]?Object(X.jsxs)("div",{onClick:function(){var t,a,n,i,s;Y(Be()(e).format("YYYY-MM-DD"),2,"B",{user_num:1,shift_id:null===(t=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===t?void 0:t.id},null===(a=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===a?void 0:a.user_id,null===(n=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===n||n.is_holiday,null===(i=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===i||null===(s=i.holiday)||void 0===s||s.name_holiday)},className:"".concat((null===(r=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===r?void 0:r.is_holiday)?"bg-holiday":"fill-bg"," table-data mb-2  d-flex flex-column"),children:[Object(X.jsxs)("strong",{className:"my-2",children:[b.shift," 2"]}),Object(X.jsxs)("strong",{children:[null===(l=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===l?void 0:l.user.first_name," ",null===(d=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===d?void 0:d.user.last_name]}),Object(X.jsx)("small",{children:null===(j=o[Be()(e).format("YYYY-MM-DD")+"-B-2-1"])||void 0===j||null===(u=j.holiday)||void 0===u?void 0:u.name_holiday}),Object(X.jsx)("small",{className:"my-2",children:" 06:00 - 14:00"})]}):Object(X.jsxs)("div",{onClick:function(){p(Be()(e).format("YYYY-MM-DD"),2,"B",{user_num:1})},className:" table-data mb-2 d-flex flex-column",children:[Object(X.jsx)("strong",{children:"Shift 2"}),Object(X.jsx)(Ut.a,{style:{fontSize:"28px",margin:"13px 0"}}),Object(X.jsx)("small",{children:" 14:00 - 22:00"})]}),o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"]?Object(X.jsxs)("div",{onClick:function(){var t,a,n,i,s;Y(Be()(e).format("YYYY-MM-DD"),3,"B",{user_num:1,shift_id:null===(t=o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"])||void 0===t?void 0:t.id},null===(a=o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"])||void 0===a?void 0:a.user_id,null===(n=o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"])||void 0===n||n.is_holiday,null===(i=o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"])||void 0===i||null===(s=i.holiday)||void 0===s||s.name_holiday)},className:"".concat((null===(h=o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"])||void 0===h?void 0:h.is_holiday)?"bg-holiday":"fill-bg"," table-data mb-2  d-flex flex-column"),children:[Object(X.jsxs)("strong",{className:"my-2",children:[b.shift," 3"]}),Object(X.jsxs)("strong",{children:[o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"].user.first_name," ",o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"].user.last_name]}),Object(X.jsx)("small",{children:null===(f=o[Be()(e).format("YYYY-MM-DD")+"-B-3-1"])||void 0===f||null===(m=f.holiday)||void 0===m?void 0:m.name_holiday}),Object(X.jsx)("small",{className:"my-2",children:" 22:00 - 06:00"})]}):Object(X.jsxs)("div",{onClick:function(){p(Be()(e).format("YYYY-MM-DD"),3,"B",{user_num:1})},className:" table-data mb-2 d-flex flex-column",children:[Object(X.jsxs)("strong",{children:[b.Shift," 3"]}),Object(X.jsx)(Ut.a,{style:{fontSize:"28px",margin:"13px 0"}}),Object(X.jsx)("small",{children:" 22:00 - 06:00"})]})]})},t)}))]})]})]})},Vt=function(){var e=Object(r.c)((function(e){return e.user})),t=e.user,a=e.loggedIn;return Object(X.jsxs)(d.d,{children:[Object(X.jsx)(d.b,{path:"/login",element:Object(X.jsx)(he,{})}),Object(X.jsxs)(d.b,{path:"/",element:Object(X.jsx)(ae,{}),children:[Object(X.jsx)(d.b,{index:!0,element:Object(X.jsx)(Ht,{})}),a&&"ADMIN"===(null===t||void 0===t?void 0:t.role)&&Object(X.jsx)(d.b,{path:"/user",element:Object(X.jsx)(Ee,{})}),a&&"SUPERVISOR"===(null===t||void 0===t?void 0:t.role)&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(d.b,{path:"/manage-shift",element:Object(X.jsx)(Ve,{})}),Object(X.jsx)(d.b,{path:"/leave-admin",element:Object(X.jsx)(ut,{})}),Object(X.jsx)(d.b,{path:"/holiday",element:Object(X.jsx)(mt,{})}),Object(X.jsx)(d.b,{path:"/add-shift",element:Object(X.jsx)(qt,{})})]}),a&&"GUARD"===(null===t||void 0===t?void 0:t.role)&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(d.b,{path:"/guard-shift",element:Object(X.jsx)(it,{})}),Object(X.jsx)(d.b,{path:"/leave-guard",element:Object(X.jsx)(ot,{})})]}),Object(X.jsx)(d.b,{path:"/setting",element:Object(X.jsx)(pe,{})})]}),Object(X.jsx)(d.b,{path:"*",element:Object(X.jsx)(we,{})})]})},Jt=a(128),Qt=a(236),Zt={loggedIn:!!localStorage.getItem("token")&&!!localStorage.getItem("user"),user:JSON.parse(localStorage.getItem("user")),loading_login:!1,message:null};var $t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(fe.a)(Object(fe.a)({},e),{},{loading_login:!0});case v:return localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user)),Object(fe.a)(Object(fe.a)({},e),{},{loading_login:!1,loggedIn:!0,user:t.payload.user,message:null});case p:return{loading_login:!1,message:t.payload};case k:return localStorage.clear(),Object(fe.a)(Object(fe.a)({},e),{},{user:null,loggedIn:!1});default:return Object(fe.a)({},e)}},Xt={open:!1,element:null};var Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(fe.a)(Object(fe.a)({},e),{},{open:!0,element:t.component});case _:return Object(fe.a)(Object(fe.a)({},e),{},{open:!1,component:null});default:return Object(fe.a)({},e)}},ea=a(47),ta={users:[],loading:!1};var aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{users:t.payload};case M:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0});case S:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,users:[t.payload].concat(Object(ea.a)(e.users))});case N:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1});default:return Object(fe.a)({},e)}},na={guards:[]};var ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(fe.a)(Object(fe.a)({},e),{},{guards:t.payload});default:return Object(fe.a)({},e)}},sa={data:{user_id:"",shift_date:"",shift_number:"",is_holiday:!1,user_num:"",site:"",name_holiday:"",shift_id:null}};var ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return console.log("INSERT",t.payload),Object(fe.a)(Object(fe.a)({},e),{},{data:t.payload});default:return Object(fe.a)({},e)}},ra={shift:[],loading:!1,submitbtn:!1,added:!1,shift_guard:[]};var la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,shift:t.payload});case w:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0});case T:return Object(fe.a)(Object(fe.a)({},e),{},{submitbtn:!0,added:!1});case C:return Object(fe.a)(Object(fe.a)({},e),{},{submitbtn:!1,added:!0,shift:[].concat(Object(ea.a)(e.shift),[t.payload])});case H:var a=e.shift.map((function(e){return e.id!==t.id?e:Object(fe.a)(Object(fe.a)({},e),t.payload)}));return Object(fe.a)(Object(fe.a)({},e),{},{submitbtn:!1,added:!0,shift:a});case R:var n=e.shift.filter((function(e){return e.id!==t.id}));return Object(fe.a)(Object(fe.a)({},e),{},{submitbtn:!1,shift:n,added:!0});case F:return Object(fe.a)(Object(fe.a)({},e),{},{submitbtn:!1});case L:return Object(fe.a)(Object(fe.a)({},e),{},{shift_guard:t.payload});default:return Object(fe.a)({},e)}},da={btnloading:!1,leaves:[]};var oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(fe.a)(Object(fe.a)({},e),{},{leaves:t.payload});case U:return Object(fe.a)(Object(fe.a)({},e),{},{btnloading:!0});case z:return Object(fe.a)(Object(fe.a)({},e),{},{btnloading:!1,leaves:[t.payload].concat(Object(ea.a)(e.leaves))});case G:return Object(fe.a)(Object(fe.a)({},e),{},{btnloading:!1});case B:return Object(fe.a)(Object(fe.a)({},e),{},{btnloading:!0});case W:var a=e.leaves.map((function(e){return e.id!==t.id?e:Object(fe.a)(Object(fe.a)({},e),t.payload)}));return Object(fe.a)(Object(fe.a)({},e),{},{btnloading:!1,leaves:a});case q:return Object(fe.a)(Object(fe.a)({},e),{},{btnloading:!1});default:return Object(fe.a)({},e)}},ja={holidays:[],loading:!1};var ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(fe.a)(Object(fe.a)({},e),{},{holidays:t.payload});case J:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0});case Q:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,holidays:[].concat(Object(ea.a)(e.holidays),[t.payload])});case Z:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1});case $:var a=e.holidays.filter((function(e){return e.id!==t.id}));return Object(fe.a)(Object(fe.a)({},e),{},{holidays:a});default:return Object(fe.a)({},e)}},ha=Object(Jt.b)({user:$t,modal:Kt,users:aa,guard:ia,shiftForm:ca,shiftadmin:la,leaves:oa,holiday:ua}),ba=[Qt.a],fa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Jt.c,ma=Object(Jt.d)(ha,{},fa(Jt.a.apply(void 0,ba))),Oa=a(1881),xa=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.modal})),a=t.open,n=t.element;return Object(X.jsx)(Oa.a,{visible:a,centered:!0,closable:!0,footer:null,onCancel:function(){e(Ie())},zIndex:1050,children:n})};c.a.render(Object(X.jsxs)(r.a,{store:ma,children:[Object(X.jsx)(Oe.a,{}),Object(X.jsxs)(l.a,{children:[Object(X.jsx)(Vt,{}),Object(X.jsx)(xa,{})]})]}),document.getElementById("root"))},254:function(e,t,a){}},[[1858,1,2]]]);
//# sourceMappingURL=main.7c0b0693.chunk.js.map